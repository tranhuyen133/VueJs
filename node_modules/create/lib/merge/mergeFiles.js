export function mergeFiles(first, second, path) {
    if (!first && !second) {
        return undefined;
    }
    if (!first) {
        return second;
    }
    if (!second) {
        return first;
    }
    const result = { ...first };
    for (const i in second) {
        if (isBlankEntry(second[i])) {
            continue;
        }
        if (!(i in first) || isBlankEntry(first[i])) {
            result[i] = second[i];
            continue;
        }
        if (isFileEntry(first[i]) || isFileEntry(second[i])) {
            throw new Error(`Duplicate created file: '${[...path, i].join(" > ")}'.`);
        }
        result[i] = mergeFiles(first[i], second[i], [...path, i]);
    }
    return result;
}
function isBlankEntry(entry) {
    return entry === false || entry === undefined;
}
function isFileEntry(entry) {
    return typeof entry === "string" || Array.isArray(entry);
}
//# sourceMappingURL=mergeFiles.js.map