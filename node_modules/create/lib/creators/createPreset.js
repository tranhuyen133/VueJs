import { z } from "zod";
import { isDefinitionWithOptions } from "./utils";
export function createPreset(definition) {
    if (!isDefinitionWithOptions(definition)) {
        const preset = (context) => {
            return definition.produce(context);
        };
        preset.documentation = definition.documentation;
        preset.repository = definition.repository;
        return preset;
    }
    const schema = z.object(definition.options);
    const preset = async (context) => {
        return await definition.produce({
            ...context,
            options: schema.parse(context.options),
        });
    };
    preset.documentation = definition.documentation;
    preset.options = definition.options;
    preset.repository = definition.repository;
    return preset;
}
//# sourceMappingURL=createPreset.js.map