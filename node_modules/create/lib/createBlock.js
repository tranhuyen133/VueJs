import { z } from "zod";
export function createBlock(blockDefinition) {
    const blockSchema = z.object(blockDefinition.options);
    const block = async (context) => {
        return await blockDefinition.produce({
            ...context,
            options: blockSchema.parse(context.options),
        });
    };
    block.createAddon = (addonDefinition) => {
        const addonSchema = z.object(addonDefinition.options);
        return async (context) => {
            return await addonDefinition.produce({
                ...context,
                options: addonSchema.parse(context.options),
            });
        };
    };
    return block;
}
//# sourceMappingURL=createBlock.js.map